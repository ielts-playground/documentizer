(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6276:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(5803)}])},648:function(e,t,a){"use strict";a.d(t,{YR:function(){return c},DT:function(){return d},r4:function(){return p},TW:function(){return h},qE:function(){return f},Ch:function(){return w},Ow:function(){return x},Wc:function(){return g},dB:function(){return m}});var n=a(6154),r=a(5885),s=a(3454);let u=new r.Z,o=n.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":s.env.SERVER_API_KEY}}),i=n.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});i.interceptors.request.use(e=>{let t=u.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});var l={private:o,default:i,new:n.Z.create()};async function c(e,t){let{token:a}=(await l.default.post("/authenticate",{username:e,password:t})).data||{};return a&&u.set("token",a),!!a}async function d(e,t){if(t){let a=Date.now()+"_"+t.name,n=t.type;console.log("Creating URL to upload audio file...");let r=(await l.default.post("/test/audio/create-upload-link",{fileName:a,contentType:n})).data;console.log("Upload URL created: ".concat(r,".")),console.log("Uploading audio file...");let s=await l.new.put(r,t,{headers:{"Content-Type":n}});if(s.status>=400)throw Error("Audio file upload failed: ".concat(s.statusText));console.log("Audio file uploaded:",{fileName:a,contentType:n}),console.log("Publishing audio file...");let u=(await l.default.post("/test/audio/make-public",{fileName:a})).data;console.log("Audio file published: ".concat(u)),e={...e,audioUrl:u}}let a=new FormData;return a.append("content",new Blob([JSON.stringify(e)],{type:"application/json"})),(await l.default.put("/test",a,{headers:{Authorization:l.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function f(){await l.default.get("/users")}async function p(e){let t={email:e.email,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,password:e.password,username:e.username};try{return await l.default.post("/register",t),!0}catch(e){return console.error("API request failed:",e),!1}}async function m(e){return(await l.default.get("/exam/".concat(e,"/test/writing"))).data}async function h(e,t){await l.default.post("/exam/".concat(e,"/evaluate/writing"),{point:t})}async function w(e){return(await l.default.get("/exam/".concat(e,"/result"))).data}async function g(e){return(await l.default.get("/exam/".concat(e,"/answer/writing"))).data}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await l.default.get("/exam/not-graded?page=".concat(e,"&size=").concat(t))).data}},2213:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(5893),r=a(648),s=a(1163),u=a(7294),o=a(8747),i=a.n(o);function l(e){let t=(0,s.useRouter)(),[a,o]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{let a=encodeURIComponent(window.location.pathname);(0,r.qE)().then(()=>{e.successUrl&&t.push(e.successUrl),o(!1),e.onSuccess&&e.onSuccess()}).catch(()=>{var n;t.push("".concat(null!==(n=e.fallbackUrl)&&void 0!==n?n:"/log-in","?redirect=").concat(a))})}),(0,n.jsx)(n.Fragment,{children:a&&(0,n.jsx)("div",{className:i().container})})}},5803:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var n=a(5893),r=a(648),s=a(1163),u=a(7294),o=a(3575),i=a.n(o),l=a(2213);function c(){let e=(0,s.useRouter)(),[t,a]=(0,u.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",username:""}),o=e=>{let{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},c=e=>{let a=(0,r.r4)(t);a?alert("Create user successfully"):alert("Something wrong, please try again!")},d=()=>{e.push("/redirect")};return(0,n.jsxs)("form",{className:i().form,onSubmit:e=>c(e),children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)("h2",{children:"Create an account for user"}),(0,n.jsxs)("label",{children:["Email:",(0,n.jsx)("input",{type:"email",name:"email",value:t.email,onChange:o})]}),(0,n.jsxs)("label",{children:["Phone number:",(0,n.jsx)("input",{type:"number",name:"phoneNumber",value:t.phoneNumber,onChange:o})]}),(0,n.jsxs)("label",{children:["FirstName:",(0,n.jsx)("input",{type:"text",name:"firstName",value:t.firstName,onChange:o})]}),(0,n.jsxs)("label",{children:["LastName:",(0,n.jsx)("input",{type:"text",name:"lastName",value:t.lastName,onChange:o})]}),(0,n.jsxs)("label",{children:["UserName:",(0,n.jsx)("input",{type:"text",name:"username",value:t.username,onChange:o})]}),(0,n.jsxs)("label",{children:["Password:",(0,n.jsx)("input",{type:"password",name:"password",value:t.password,onChange:o})]}),(0,n.jsxs)("div",{className:i().buttons,children:[(0,n.jsx)("button",{type:"submit",children:"Create User"}),(0,n.jsx)("button",{type:"button",onClick:d,children:"Return home"})]})]})}},8747:function(e){e.exports={container:"styles_container__dVA4Z"}},3575:function(e){e.exports={form:"styles_form__z7lYK",buttons:"styles_buttons__l82Op"}}},function(e){e.O(0,[774,7,888,179],function(){return e(e.s=6276)}),_N_E=e.O()}]);