(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[935],{6677:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/exam/[id]",function(){return n(5149)}])},648:function(e,t,n){"use strict";n.d(t,{YR:function(){return d},qz:function(){return f},DT:function(){return o},r4:function(){return x},TW:function(){return p},qE:function(){return h},Ch:function(){return j},Ow:function(){return g},Wc:function(){return w},dB:function(){return m}});var r=n(6154),a=n(5885),i=n(3454);let s=new a.Z,u=r.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":i.env.SERVER_API_KEY}}),c=r.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});c.interceptors.request.use(e=>{let t=s.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});var l={private:u,default:{...c,clearToken:()=>{s.remove("token")}}};async function d(e,t){let{token:n}=(await l.default.post("/authenticate",{username:e,password:t})).data||{};return n&&s.set("token",n),!!n}async function o(e,t,n){let r=new FormData;for(let a of(r.append("audio",t),r.append("subscription",e),n))r.append(a.skill,new Blob([JSON.stringify(a)],{type:"application/json"}));return(await l.default.put("/test/new",r,{headers:{Authorization:l.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function h(){return(await l.default.get("/users")).data}function f(){l.default.clearToken()}async function x(e){let t={email:e.email,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,password:e.password,username:e.username};try{return await l.default.post("/register",t),!0}catch(e){return console.error("API request failed:",e),!1}}async function m(e){return(await l.default.get("/exam/".concat(e,"/test/writing"))).data}async function p(e,t){await l.default.post("/exam/".concat(e,"/evaluate/writing"),{point:t})}async function j(e){return(await l.default.get("/exam/".concat(e,"/result"))).data}async function w(e){return(await l.default.get("/exam/".concat(e,"/answer/writing"))).data}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await l.default.get("/exam/not-graded?page=".concat(e,"&size=").concat(t))).data}},5149:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(5893),a=n(648),i=n(1163),s=n(7294);function u(){var e,t,n,u;let c=(0,i.useRouter)(),[l,d]=(0,s.useState)(),[o,h]=(0,s.useState)();(0,s.useEffect)(()=>{let{id:e}=c.query||{},t=Number(e);t&&(d(t),(0,a.Ch)(t).then(h).catch(e=>{alert(e.message),c.back()}))},[c]);let f=()=>{alert("Not implemented yet!")},x={border:"solid 1px black"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h1",{children:["Exam #",l]}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"Examinee"}),(0,r.jsxs)("table",{style:x,children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Username"}),(0,r.jsx)("td",{children:o.examinee.username})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Full Name"}),(0,r.jsx)("td",{children:"".concat(null===(e=o.examinee)||void 0===e?void 0:e.firstName," ").concat(null===(t=o.examinee)||void 0===t?void 0:t.lastName)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Email"}),(0,r.jsx)("td",{children:null===(n=o.examinee)||void 0===n?void 0:n.email})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Phone Number"}),(0,r.jsx)("td",{children:null===(u=o.examinee)||void 0===u?void 0:u.phoneNumber})]})]}),(0,r.jsx)("h2",{children:"Result"}),(0,r.jsxs)("table",{style:x,children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Reading"}),(0,r.jsx)("td",{children:o.reading})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Listening"}),(0,r.jsx)("td",{children:o.listening})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Writing"}),(0,r.jsx)("td",{children:o.writing})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Examiner"}),(0,r.jsx)("td",{children:o.examiner})]})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("button",{onClick:f,children:"Save"})]})]})}}},function(e){e.O(0,[7,774,888,179],function(){return e(e.s=6677)}),_N_E=e.O()}]);