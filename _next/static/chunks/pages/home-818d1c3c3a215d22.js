(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{7183:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return e(1506)}])},648:function(t,n,e){"use strict";e.d(n,{YR:function(){return l},qz:function(){return p},DT:function(){return d},TW:function(){return w},qE:function(){return f},Ch:function(){return _},Ow:function(){return m},Wc:function(){return g},dB:function(){return h}});var a=e(6154),r=e(5885),u=e(3454);let c=new r.Z,i=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":u.env.SERVER_API_KEY}}),s=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});s.interceptors.request.use(t=>{let n=c.get("token");return n&&(t.headers.Authorization="Bearer ".concat(n)),t});var o={private:i,default:{...s,clearToken:()=>{c.remove("token")}}};async function l(t,n){let{token:e}=(await o.default.post("/authenticate",{username:t,password:n})).data||{};return e&&c.set("token",e),!!e}async function d(t,n,e){let a=new FormData;for(let r of(a.append("audio",n),a.append("subscription",t),e))a.append(r.skill,new Blob([JSON.stringify(r)],{type:"application/json"}));return(await o.default.put("/test/new",a,{headers:{Authorization:o.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function f(){return(await o.default.get("/users")).data}function p(){o.default.clearToken()}async function h(t){return(await o.default.get("/exam/".concat(t,"/test/writing"))).data}async function w(t,n){await o.default.post("/exam/".concat(t,"/evaluate/writing"),{point:n})}async function _(t){return(await o.default.get("/exam/".concat(t,"/result"))).data}async function g(t){return(await o.default.get("/exam/".concat(t,"/answer/writing"))).data}async function m(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await o.default.get("/exam/not-graded?page=".concat(t,"&size=").concat(n))).data}},2213:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var a=e(5893),r=e(648),u=e(1163),c=e(7294),i=e(8747),s=e.n(i);function o(t){let n=(0,u.useRouter)(),[e,i]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let e=encodeURIComponent(window.location.pathname);(0,r.qE)().then(e=>{t.successUrl&&n.push(t.successUrl),i(!1),t.onSuccess&&t.onSuccess(e)}).catch(()=>{var a;n.push("".concat(null!==(a=t.fallbackUrl)&&void 0!==a?a:"/log-in","?redirect=").concat(e))})}),(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsx)("div",{className:s().container})})}},1506:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return l}});var a=e(5893),r=e(1163),u=e(872),c=e.n(u),i=e(2213),s=e(648),o=e(7294);function l(){let[t,n]=(0,o.useState)(null),e=(0,r.useRouter)(),u=()=>{e.push("/new")},l=()=>{e.push("/review")},d=()=>{(0,s.qz)(),e.push("/")};return(0,a.jsxs)("div",{className:c().all,children:[!t&&(0,a.jsx)(i.Z,{onSuccess:n}),t&&(0,a.jsxs)("div",{className:c().box,children:[(0,a.jsxs)("h1",{children:["Hi ",t.firstName,"!"]}),(0,a.jsx)("button",{onClick:u,children:"Create a new test"}),(0,a.jsx)("button",{onClick:l,children:"Start reviewing exams"}),(0,a.jsx)("button",{className:c().gray,onClick:d,children:"Log out"})]})]})}},8747:function(t){t.exports={container:"styles_container__dVA4Z"}},872:function(t){t.exports={all:"styles_all__7_XSj",box:"styles_box__CIMdv",gray:"styles_gray__aeO48"}}},function(t){t.O(0,[7,774,888,179],function(){return t(t.s=7183)}),_N_E=t.O()}]);