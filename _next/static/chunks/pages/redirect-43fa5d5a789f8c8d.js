(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{377:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/redirect",function(){return n(243)}])},648:function(e,t,n){"use strict";n.d(t,{YR:function(){return l},DT:function(){return d},r4:function(){return p},TW:function(){return h},qE:function(){return f},Ch:function(){return g},Ow:function(){return _},Wc:function(){return m},dB:function(){return w}});var a=n(6154),i=n(5885),r=n(3454);let o=new i.Z,u=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":r.env.SERVER_API_KEY}}),s=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});s.interceptors.request.use(e=>{let t=o.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});var c={private:u,default:s,new:a.Z.create()};async function l(e,t){let{token:n}=(await c.default.post("/authenticate",{username:e,password:t})).data||{};return n&&o.set("token",n),!!n}async function d(e,t){if(t){let n=Date.now()+"_"+t.name,a=t.type;console.log("Creating URL to upload audio file...");let i=(await c.default.post("/test/audio/create-upload-link",{fileName:n,contentType:a})).data;console.log("Upload URL created: ".concat(i,".")),console.log("Uploading audio file...");let r=await c.new.put(i,t,{headers:{"Content-Type":a}});if(r.status>=400)throw Error("Audio file upload failed: ".concat(r.statusText));console.log("Audio file uploaded:",{fileName:n,contentType:a}),console.log("Publishing audio file...");let o=(await c.default.post("/test/audio/make-public",{fileName:n})).data;console.log("Audio file published: ".concat(o)),e={...e,audioUrl:o}}let n=new FormData;return n.append("content",new Blob([JSON.stringify(e)],{type:"application/json"})),(await c.default.put("/test",n,{headers:{Authorization:c.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function f(){await c.default.get("/users")}async function p(e){let t={email:e.email,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,password:e.password,username:e.username};try{return await c.default.post("/register",t),!0}catch(e){return console.error("API request failed:",e),!1}}async function w(e){return(await c.default.get("/exam/".concat(e,"/test/writing"))).data}async function h(e,t){await c.default.post("/exam/".concat(e,"/evaluate/writing"),{point:t})}async function g(e){return(await c.default.get("/exam/".concat(e,"/result"))).data}async function m(e){return(await c.default.get("/exam/".concat(e,"/answer/writing"))).data}async function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await c.default.get("/exam/not-graded?page=".concat(e,"&size=").concat(t))).data}},2213:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(5893),i=n(648),r=n(1163),o=n(7294),u=n(8747),s=n.n(u);function c(e){let t=(0,r.useRouter)(),[n,u]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let n=encodeURIComponent(window.location.pathname);(0,i.qE)().then(()=>{e.successUrl&&t.push(e.successUrl),u(!1),e.onSuccess&&e.onSuccess()}).catch(()=>{var a;t.push("".concat(null!==(a=e.fallbackUrl)&&void 0!==a?a:"/log-in","?redirect=").concat(n))})}),(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)("div",{className:s().container})})}},243:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(5893),i=n(1163),r=n(7429),o=n.n(r),u=n(2213);function s(){let e=(0,i.useRouter)(),t=t=>{let n=t.currentTarget.name;switch(n){case"reading":e.push("new/reading");break;case"listening":e.push("new/listening");break;case"writing":e.push("new/writing")}},n=()=>{e.push("/register")},r=()=>{e.push("/review")};return(0,a.jsxs)("div",{className:o().all,children:[(0,a.jsx)(u.Z,{}),(0,a.jsxs)("div",{className:o().box,children:[(0,a.jsx)("p",{children:(0,a.jsx)("b",{children:"WHICH ACTION DO YOU WANT TO IMPLEMENT?"})}),(0,a.jsx)("button",{name:"reading",onClick:e=>t(e),children:"SUBMIT READING"}),(0,a.jsx)("button",{name:"listening",onClick:e=>t(e),children:"SUBMIT LISTENING"}),(0,a.jsx)("button",{name:"writing",onClick:e=>t(e),children:"SUBMIT WRITING"}),(0,a.jsx)("button",{onClick:e=>n(),children:"Create user's account"}),(0,a.jsx)("button",{onClick:e=>r(),children:"Review writing's exams"})]})]})}},8747:function(e){e.exports={container:"styles_container__dVA4Z"}},7429:function(e){e.exports={all:"styles_all__otwx2",box:"styles_box__z__OW"}}},function(e){e.O(0,[774,7,888,179],function(){return e(e.s=377)}),_N_E=e.O()}]);