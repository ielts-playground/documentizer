(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6276:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(5803)}])},648:function(e,t,n){"use strict";n.d(t,{YR:function(){return l},qz:function(){return p},DT:function(){return d},r4:function(){return m},TW:function(){return w},qE:function(){return f},Ch:function(){return x},Ow:function(){return g},Wc:function(){return y},dB:function(){return h}});var a=n(6154),r=n(5885),s=n(3454);let u=new r.Z,i=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":s.env.SERVER_API_KEY}}),o=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});o.interceptors.request.use(e=>{let t=u.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});var c={private:i,default:{...o,clearToken:()=>{u.remove("token")}}};async function l(e,t){let{token:n}=(await c.default.post("/authenticate",{username:e,password:t})).data||{};return n&&u.set("token",n),!!n}async function d(e,t,n){let a=new FormData;for(let r of(a.append("audio",t),a.append("subscription",e),n))a.append(r.skill,new Blob([JSON.stringify(r)],{type:"application/json"}));return(await c.default.put("/test/new",a,{headers:{Authorization:c.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function f(){return(await c.default.get("/users")).data}function p(){c.default.clearToken()}async function m(e){let t={email:e.email,phoneNumber:e.phoneNumber,firstName:e.firstName,lastName:e.lastName,password:e.password,username:e.username};try{return await c.default.post("/register",t),!0}catch(e){return console.error("API request failed:",e),!1}}async function h(e){return(await c.default.get("/exam/".concat(e,"/test/writing"))).data}async function w(e,t){await c.default.post("/exam/".concat(e,"/evaluate/writing"),{point:t})}async function x(e){return(await c.default.get("/exam/".concat(e,"/result"))).data}async function y(e){return(await c.default.get("/exam/".concat(e,"/answer/writing"))).data}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await c.default.get("/exam/not-graded?page=".concat(e,"&size=").concat(t))).data}},2213:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(5893),r=n(648),s=n(1163),u=n(7294),i=n(8747),o=n.n(i);function c(e){let t=(0,s.useRouter)(),[n,i]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{let n=encodeURIComponent(window.location.pathname);(0,r.qE)().then(n=>{e.successUrl&&t.push(e.successUrl),i(!1),e.onSuccess&&e.onSuccess(n)}).catch(()=>{var a;t.push("".concat(null!==(a=e.fallbackUrl)&&void 0!==a?a:"/log-in","?redirect=").concat(n))})}),(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)("div",{className:o().container})})}},5803:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(5893),r=n(648),s=n(1163),u=n(7294),i=n(3575),o=n.n(i),c=n(2213);function l(){let e=(0,s.useRouter)(),[t,n]=(0,u.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",username:""}),i=e=>{let{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))},l=async e=>{let n=await (0,r.r4)(t);n?alert("Create user successfully"):alert("Something wrong, please try again!")},d=()=>{e.push("/")};return(0,a.jsxs)("form",{className:o().form,onSubmit:e=>l(e),children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("h2",{children:"Create an account"}),(0,a.jsxs)("label",{children:["Email:",(0,a.jsx)("input",{type:"email",name:"email",value:t.email,onChange:i})]}),(0,a.jsxs)("label",{children:["Phone number:",(0,a.jsx)("input",{type:"number",name:"phoneNumber",value:t.phoneNumber,onChange:i})]}),(0,a.jsxs)("label",{children:["First name:",(0,a.jsx)("input",{type:"text",name:"firstName",value:t.firstName,onChange:i})]}),(0,a.jsxs)("label",{children:["Last name:",(0,a.jsx)("input",{type:"text",name:"lastName",value:t.lastName,onChange:i})]}),(0,a.jsxs)("label",{children:["Username:",(0,a.jsx)("input",{type:"text",name:"username",value:t.username,onChange:i})]}),(0,a.jsxs)("label",{children:["Password:",(0,a.jsx)("input",{type:"password",name:"password",value:t.password,onChange:i})]}),(0,a.jsxs)("div",{className:o().buttons,children:[(0,a.jsx)("button",{type:"submit",children:"Create"}),(0,a.jsx)("button",{type:"button",onClick:d,children:"Back"})]})]})}},8747:function(e){e.exports={container:"styles_container__dVA4Z"}},3575:function(e){e.exports={form:"styles_form__z7lYK",buttons:"styles_buttons__l82Op"}}},function(e){e.O(0,[7,774,888,179],function(){return e(e.s=6276)}),_N_E=e.O()}]);