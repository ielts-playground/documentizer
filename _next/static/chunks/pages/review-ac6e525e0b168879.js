(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{5499:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/review",function(){return n(9968)}])},648:function(t,e,n){"use strict";n.d(e,{YR:function(){return l},qz:function(){return h},DT:function(){return d},TW:function(){return m},qE:function(){return f},Ch:function(){return w},Ow:function(){return x},Wc:function(){return _},dB:function(){return p}});var a=n(6154),s=n(5885),r=n(3454);let c=new s.Z,i=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api",headers:{"X-Api-Key":r.env.SERVER_API_KEY}}),o=a.Z.create({baseURL:"https://ielts-playground-api.tuanm.id.vn/api"});o.interceptors.request.use(t=>{let e=c.get("token");return e&&(t.headers.Authorization="Bearer ".concat(e)),t});var u={private:i,default:{...o,clearToken:()=>{c.remove("token")}}};async function l(t,e){let{token:n}=(await u.default.post("/authenticate",{username:t,password:e})).data||{};return n&&c.set("token",n),!!n}async function d(t,e,n){let a=new FormData;for(let s of(a.append("audio",e),a.append("subscription",t),n))a.append(s.skill,new Blob([JSON.stringify(s)],{type:"application/json"}));return(await u.default.put("/test/new",a,{headers:{Authorization:u.default.defaults.headers.Authorization,"Content-Type":"multipart/form-data"}})).data}async function f(){return(await u.default.get("/users")).data}function h(){u.default.clearToken()}async function p(t){return(await u.default.get("/exam/".concat(t,"/test/writing"))).data}async function m(t,e){await u.default.post("/exam/".concat(t,"/evaluate/writing"),{point:e})}async function w(t){return(await u.default.get("/exam/".concat(t,"/result"))).data}async function _(t){return(await u.default.get("/exam/".concat(t,"/answer/writing"))).data}async function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await u.default.get("/exam/not-graded?page=".concat(t,"&size=").concat(e))).data}},2213:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var a=n(5893),s=n(648),r=n(1163),c=n(7294),i=n(8747),o=n.n(i);function u(t){let e=(0,r.useRouter)(),[n,i]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let n=encodeURIComponent(window.location.pathname);(0,s.qE)().then(n=>{t.successUrl&&e.push(t.successUrl),i(!1),t.onSuccess&&t.onSuccess(n)}).catch(()=>{var a;e.push("".concat(null!==(a=t.fallbackUrl)&&void 0!==a?a:"/log-in","?redirect=").concat(n))})}),(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)("div",{className:o().container})})}},9968:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var a=n(5893),s=n(648),r=n(1163),c=n(7294),i=n(6918),o=n.n(i),u=n(2213);function l(){let t=(0,r.useRouter)(),[e,n]=(0,c.useState)(void 0),[i,l]=(0,c.useState)(1),[d,f]=(0,c.useState)(20),[h,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{h&&(0,s.Ow)(i-1,d).then(t=>{n(t)}).catch(()=>{})},[i,h]);let m=()=>{l(t=>Math.max(t-1,1))},w=()=>{let t=Math.ceil((null==e?void 0:e.total)/d),a=Math.min(i+1,t);(0,s.Ow)(a-1,d).then(t=>{n(t),l(a)}).catch(()=>{})},_=e=>{t.push("/review/writing/".concat(e))};return(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsx)(u.Z,{onSuccess:()=>p(!0)}),(0,a.jsxs)("span",{className:o().header,children:[(0,a.jsx)("h2",{children:"LIST OF EXAMS"}),(0,a.jsx)("h2",{className:o().home,onClick:()=>{t.push("/home")},children:"HOME"})]}),(0,a.jsx)("span",{className:o().list,children:(0,a.jsx)("span",{children:(()=>{let t=(null==e?void 0:e.examIds)||[];return t.map(t=>(0,a.jsxs)("h3",{className:o().option,onClick:()=>_(t.examId),children:["#",t.examId," of ",t.userName]},t.examId))})()})}),(0,a.jsx)("span",{className:o().footer,children:(()=>{let t=Math.ceil((null==e?void 0:e.total)/d);return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{disabled:1===i,onClick:m,children:"Previous"}),(0,a.jsxs)("span",{children:["Page ",i," of ",t]}),(0,a.jsx)("button",{disabled:i===t,onClick:w,children:"Next"})]})})()})]})}},8747:function(t){t.exports={container:"styles_container__dVA4Z"}},6918:function(t){t.exports={container:"styles_container__JCO64",header:"styles_header__4fUwb",home:"styles_home__GpKeE",option:"styles_option__76BR8",footer:"styles_footer__w63cs"}}},function(t){t.O(0,[7,774,888,179],function(){return t(t.s=5499)}),_N_E=t.O()}]);